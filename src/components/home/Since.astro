---

---

<section class="beans-section w-fit">
  <div class="flex w-full items-center justify-between gap-10 md:gap-32">
    <div class="order-2 max-w-70 text-center md:order-1 md:text-left">
      <div class="flex max-w-64 flex-col gap-6 text-left">
        <h4 class="since-title text-h2">SINCE 2012</h4>
        <span class="since-description text-b1 font-normal"
          >We deliver Mongolia's finest coffee with quality, integrity, and a
          commitment to community.</span
        >
      </div>
    </div>
    <div
      class="since-image order-1 aspect-[5/3] h-[330px] overflow-hidden rounded-4xl md:order-2"
    >
      <mux-player
        class="size-full object-cover"
        playback-id="kfJo02Ax7pE6bO5T6wz024WPeoAJa6qPKhfKdDQ00lvbfk"
        metadata-video-id="DCV4LzrdWzjB7Q1OtxfOnoragZfxRh3taaIrcMulJNU"
        metadata-video-title="teaching"
        poster="https://image.mux.com/kfJo02Ax7pE6bO5T6wz024WPeoAJa6qPKhfKdDQ00lvbfk/thumbnail.png?width=214&height=121&time=3&fit_mode=preserve"
        stream-type="on-demand"
        preload
        loop
        muted
        autoplay></mux-player>
    </div>
  </div>
</section>

<script>
  import { gsap } from "gsap";
  import {
    durations,
    staggerDelays,
    prefersReducedMotion,
  } from "@/lib/animations";

  function initSinceAnimation() {
    const shouldAnimate = !prefersReducedMotion();

    if (!shouldAnimate) return;

    // Elements to animate in staggered sequence
    const elements = [".since-title", ".since-description", ".since-image"];

    // Set initial state for all elements
    gsap.set(elements, {
      opacity: 0,
      y: 20,
      scale: 0.95,
    });

    // Create staggered animation timeline
    const tl = gsap.timeline({
      scrollTrigger: {
        trigger: ".since-section",
        start: "top 80%",
        once: true,
      },
    });

    // Animate each element with stagger
    elements.forEach((selector, index) => {
      tl.to(
        selector,
        {
          opacity: 1,
          y: 0,
          scale: 1,
          duration: durations.normal,
          ease: "cubic-bezier(.215, .61, .355, 1)", // ease-out-cubic
        },
        index * staggerDelays.normal,
      ); // Stagger by 0.1s
    });
  }

  // Initialize when DOM is ready
  document.addEventListener("DOMContentLoaded", initSinceAnimation);
</script>
